{% extends "layout/base.html" %}
{% block title %}Editar producto{% endblock %}

{% block content %}
<h2 class="mb-4">✏️ Editar producto</h2>

<form method="POST" enctype="multipart/form-data" class="row g-3">

    <div class="col-md-6">
        <label class="form-label">Nombre</label>
        <input type="text"
               name="nombre"
               value="{{ producto['nombre'] }}"
               class="form-control"
               required>
    </div>

    <div class="col-md-3">
        <label class="form-label">Precio</label>
        <input type="number"
               name="precio"
               value="{{ producto['precio'] }}"
               class="form-control"
               step="0.01"
               min="0"
               required>
    </div>

    <div class="col-md-3">
        <label class="form-label">Cambiar foto</label>
        <input type="file"
               name="foto"
               class="form-control"
               accept="image/*">
    </div>

    {% if producto['foto'] %}
    <div class="col-md-12">
        <p class="mb-1">Foto actual:</p>
        <img src="{{ url_for('static', filename='uploads/productos/' ~ producto['foto']) }}"
             width="120"
             style="border-radius:8px">
    </div>
    {% endif %}

    <div class="col-md-12 d-flex justify-content-end mt-3">
        <a href="{{ url_for('productos.listar') }}"
           class="btn btn-secondary me-2">
            Cancelar
        </a>

        <button type="submit" class="btn btn-primary">
            Guardar cambios
        </button>
    </div>

</form>
{% endblock %}
